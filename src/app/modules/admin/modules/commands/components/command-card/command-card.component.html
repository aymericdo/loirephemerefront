<nz-ribbon [class.-is-loading]="isLoading" nzText="€" [nzColor]="isPayed ? 'green' : 'red'">
  <nz-card style="width: 300px" [class.-is-new]="isNew" [class.-is-just-updated]="isJustUpdated"
    [nzActions]="isPayed ? [actionWizz] : [actionWizz, actionDone]" [nzTitle]="'Commande #' + command.reference">
    <nz-skeleton [nzActive]="true" [nzLoading]="isLoading">
      <p class="take-away">{{ command.takeAway ? 'À emporter' : 'Sur place' }}</p>
      <nz-divider></nz-divider>
      <p>Nom : {{ command.name }}</p>
      <p>Récupération : {{ command.pickUpTime ? (command.pickUpTime | date: "dd/MM/YYYY HH:mm") : 'Maintenant' }}</p>
      <p>Pâtisseries :</p>
      <ul>
        <li *ngFor="let pastryObj of pastries">
          {{ pastryObj[0].name + " (x" + pastryObj[1] + ")" }}
        </li>
      </ul>
      <p>Prix total : {{ command.totalPrice }}€</p>
      <p>Créée le : {{ command.createdAt | date: "dd/MM/YYYY HH:mm" }}</p>
      <p>Modifiée le : {{ command.updatedAt | date: "dd/MM/YYYY HH:mm" }}</p>
    </nz-skeleton>
  </nz-card>
</nz-ribbon>
<ng-template #actionWizz>
  <i nz-icon nzType="bell" (click)="!isLoading && wizzClient()"></i>
</ng-template>
<ng-template #actionDone>
  <ng-container *ngIf="!isDone">
    <i nz-icon nzType="check" (click)="!isLoading && showValidationPopup('toDone')"></i>
  </ng-container>
  <ng-container *ngIf="isDone">
    <i nz-icon nzType="euro-circle" (click)="!isLoading && showValidationPopup('toPayed')"></i>
  </ng-container>
</ng-template>
